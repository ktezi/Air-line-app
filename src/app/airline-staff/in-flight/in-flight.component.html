<mat-table [dataSource]="dataSource1" class="mat-elevation-z8 seat_layout">
  <!--  Column -->
  <ng-container matColumnDef="0">
      <mat-header-cell *matHeaderCellDef>  </mat-header-cell>
      <mat-cell *matCellDef="let element"> {{element['0']}}</mat-cell>
    </ng-container>0
  <ng-container matColumnDef="1">
    <mat-header-cell *matHeaderCellDef> 1 </mat-header-cell>
    <mat-cell *matCellDef="let element"> <span class="seat-box" [ngClass]="getClassname(1 , element['0'])" > </span> </mat-cell>
  </ng-container>

  <!-- Column -->
  <ng-container matColumnDef="2">
    <mat-header-cell *matHeaderCellDef> 2 </mat-header-cell>
    <mat-cell *matCellDef="let element"> <span class="seat-box" [ngClass]="getClassname(2 , element['0'])" > </span> </mat-cell>
  </ng-container>

  <!--  Column -->
  <ng-container matColumnDef="3">
    <mat-header-cell *matHeaderCellDef> 3 </mat-header-cell>
    <mat-cell *matCellDef="let element"> <span class="seat-box" [ngClass]="getClassname(3 , element['0'])" > </span> </mat-cell>

  </ng-container>

  <!-- Column -->
  <ng-container matColumnDef="4">
    <mat-header-cell *matHeaderCellDef> 4 </mat-header-cell>
    <mat-cell *matCellDef="let element"> <span class="seat-box" [ngClass]="getClassname(4 , element['0'])" > </span> </mat-cell>
  </ng-container>

   <!-- Column -->
  <ng-container matColumnDef="5">
      <mat-header-cell *matHeaderCellDef> 5 </mat-header-cell>
      <mat-cell *matCellDef="let element"> <span class="seat-box" [ngClass]="getClassname(5 , element['0'])" > </span> </mat-cell>
  </ng-container>

   <!-- Column -->
    <ng-container matColumnDef="6">
      <mat-header-cell *matHeaderCellDef> 6 </mat-header-cell>
      <mat-cell *matCellDef="let element"> <span class="seat-box" [ngClass]="getClassname(6 , element['0'])" > </span> </mat-cell>
  </ng-container>

   <!-- Column -->
    <ng-container matColumnDef="7">
      <mat-header-cell *matHeaderCellDef> 7 </mat-header-cell>
      <mat-cell *matCellDef="let element"> <span class="seat-box" [ngClass]="getClassname(7 , element['0'])" > </span> </mat-cell>
  </ng-container>

   <!-- Column -->
    <ng-container matColumnDef="8">
      <mat-header-cell *matHeaderCellDef> 8 </mat-header-cell>
      <mat-cell *matCellDef="let element"> <span class="seat-box" [ngClass]="getClassname(8 , element['0'])" > </span> </mat-cell>
  </ng-container>

   <!-- Column -->
    <ng-container matColumnDef="9">
      <mat-header-cell *matHeaderCellDef> 9 </mat-header-cell>
      <mat-cell *matCellDef="let element"> <span class="seat-box" [ngClass]="getClassname(9 , element['0'])" > </span> </mat-cell>
  </ng-container>

   <!-- Column -->
    <ng-container matColumnDef="10">
      <mat-header-cell *matHeaderCellDef> 10 </mat-header-cell>
      <mat-cell *matCellDef="let element"> <span class="seat-box" [ngClass]="getClassname(10 , element['0'])" > </span> </mat-cell>
  </ng-container>

  <mat-header-row *matHeaderRowDef="displayedColumns1"></mat-header-row>
  <mat-row *matRowDef="let row; columns: displayedColumns1;"></mat-row>
</mat-table>
<div class="table-footer">
  <span class="specialmeal"></span>
  <span>Special Meals</span>
</div>

<div class="mat-elevation-z8">
    <table mat-table [dataSource]="dataSource" matSort>

      <!-- Name Column -->
      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Name </th>
        <td mat-cell *matCellDef="let element"> {{element.name}} </td>
      </ng-container>
 
      <!-- Ancillary services Column -->
      <ng-container matColumnDef="ancillaryServices">
        <th mat-header-cell *matHeaderCellDef mat-sort-header4> Ancillary Services </th>
        <td mat-cell *matCellDef="let element">
          <ng-container *ngFor="let item of element.ancillaryServices | keyvalue">
            <div class="abc" *ngIf="item.value">
              <span>{{item.value}} </span>
            </div>
          </ng-container>
        </td>
      </ng-container>

      <!-- button Column -->
      <ng-container matColumnDef="button">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Action </th>
        <th mat-header-cell *matHeaderCellDef mat-sort-header class="add-update-btn">button</th>
        <td mat-cell *matCellDef="let element">
          <button mat-stroked-button color="accent" (click)="openDialog(changeMealPreference,element)"> Change Meal Preference </button>
          <button mat-stroked-button color="accent" (click)="openDialog(addAncillary,element)" > Add Ancillary Services </button>
          <button mat-stroked-button color="accent" (click)="openItemDialog(addItem,element)" > Add Item Request </button>
         
        </td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
      <tr mat-row *matRowDef="let row; columns: columnsToDisplay;">
      </tr>
    </table>
    <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]"></mat-paginator>
  </div>

  <!-- Dialog for changeMealPreference -->
  <ng-template #changeMealPreference>
    <h1 mat-dialog-title><h2>Update the Meal Preference</h2></h1>
    <div mat-dialog-content class="update-meal-preference">
        <section class="example-section">
            <mat-checkbox class="example-margin" (change)="setVegPreference($event)"> Veg </mat-checkbox>
            <br>
            <mat-checkbox class="example-margin" (change)="setNonvegPreference($event)"> Non-Veg </mat-checkbox>
          </section>
    </div>
  </ng-template>

  <!-- Dialog for Add Ancillary Services -->
  <ng-template #addAncillary>
    <h1 mat-dialog-title>Add Ancillary Services</h1>
    <div mat-dialog-content>
        <mat-form-field appearance="fill">
            <mat-label>Select an option</mat-label>
            <mat-select [(value)]="services">
                <mat-option *ngFor="let services of filteredFlights[0].ancillaryServices | keyvalue"
                    [value]="services.value">
                    {{services.value}}
                </mat-option>
            </mat-select>
        </mat-form-field>
        <button mat-stroked-button color="primary" type="submit" (click)="addAncillaryServices(services)">
            Add
        </button>
    </div>
</ng-template>

  <!-- Dialog for Add Shopping Items -->
  <ng-template #addItem>
    <h1 mat-dialog-title>Add Shopping Items</h1>
    <div mat-dialog-content>
      <mat-form-field appearance="fill">
          <mat-label>Select an option</mat-label>
          <mat-select [(value)]="services">
              <mat-option *ngFor="let services of filteredFlights[0].shoppingItems | keyvalue"
                  [value]="services.value">
                  {{services.value}}
              </mat-option>
          </mat-select>
      </mat-form-field>
      <button mat-stroked-button color="primary" type="submit" (click)="addItemRequest(services)">
          Add
      </button>
  </div>
  </ng-template>
